/// Sets the focus ring for an interactive element
/// @param {String} $size - The size of the border radius on the focus ring.
///

@mixin focus-ring($size: 'base') {
  $offset: rem(1px);
  $stroke: rem(2px);
  $position: $offset + $stroke;
  position: relative;

  &::after {
    content: var(--p-non-null-content, none);
    position: absolute;
    z-index: 1;
    top: -$position;
    right: -$position;
    bottom: -$position;
    left: -$position;
    display: block;
    border: $stroke solid var(--p-interactive-focus);
    opacity: 1;
    scale: 1;
    @if $size == 'wide' {
      border-radius: calc(var(--p-border-radius-wide) + #{$position});
    } @else {
      border-radius: calc(var(--p-border-radius-base) + #{$position});
    }
    pointer-events: none;
  }
}

@mixin focus-ring-animated($size: 'base', $show: 0) {
  $easing: cubic-bezier(0.4, 0.22, 0.28, 1);
  @include focus-ring($size);
  &::after {
    transition: opacity duration(fast) $easing, transform duration(fast) $easing;
    @if $show == 0 {
      opacity: 0;
      transform: scale(0.8);
    } @else {
      opacity: 1;
      transform: scale(1);
    }
  }
}

@mixin no-focus-ring {
  &::after {
    border: none;
  }
}
